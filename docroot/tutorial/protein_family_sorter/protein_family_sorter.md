# Protein Family Sorter Tool

The Protein Family Sorter tool enables researchers to examine the distribution of specific protein families across different genomes.  The tool uses PATtyFams[1], the protein families that are assigned in the BV-BRC annotation process.  There are two types of PATtyFams.  The global families, known as **PGFams**, can be used for cross genus comparisons.  The local families (**PLFams**) are for intra-genus comparisons.

## Locating the Protein Family Sorter App

1.	At the top of any BV-BRC page, find the Services tab and click on Protein Family Sorter. 
![Figure 1](./images/Picture1.png "Figure 1")

2.	This will open up the Protein family Sorter landing page. 
![Figure 2](./images/Picture2.png "Figure 2")

## Selecting Genomes

1.	To include any genome (reference, representative, other public, or private genomes), click on the filter button to narrow the selection and deselect the categories that are not of interest. 
![Figure 3](./images/Picture3.png "Figure 3")

2.	Typing in the text box will show a list of the genomes available that contain that text. Private genomes are indicated by a **Lock** icon. Once the genome of interest is located, clicking on it will fill the box. 
![Figure 4](./images/Picture4.png "Figure 4")

3.	The genome must be added to the genomes for comparison, a box in the Selected Genomes box. Click on the arrow at the upper right of the Select Genome box (and the name of the genome will appear in the Selected Genomes box. 
![Figure 5](./images/Picture5.png "Figure 5")

## Selecting Genome Groups

1.	To select a genome group, go to the Select Genome Group box and click on the down arrow that follows the text box. That will show a list of all the genome groups, with the most recently created appearing at the top of the list. 
![Figure 6](./images/Picture6.png "Figure 6")

2.	Entering a name (or part of a name) in the text box will populate the drop-down box with possible groups that match that text. 
![Figure 7](./images/Picture7.png "Figure 7")

3.	Clicking on the genome group of interest will make the name appear in the text box. 
![Figure 8](./images/Picture8.png "Figure 8")

4.	The genome group must be added to the genomes for comparison, a box in the **Select Genomes** box. Click on the arrow at the upper right of the **Select Genome** box and the name of the genome will appear in the box. This can be repeated until all the genome groups or genomes of interest, have been added to the Selected Genomes box. 
![Figure 9](./images/Picture9.png "Figure 9")

## Selecting Protein Family Type

1.	BV-BRC offers three types of protein families. The default, PGFams, are protein families that cross the genus boundary. PLFams are protein families across a genus. FigFams[2] are an older protein family that is not updated, where the protein families are united by function. Clicking on the down arrow at the end of the text box under Family Type will show the two types of protein families. Clicking on one will select it for the analysis.
![Figure 10](./images/Picture10.png "Figure 10")

## Submitting the Protein Family Sorter job

1.	Once the genomes, genome groups, and type of protein families are selected, the job will be initiated by clicking the submit button. The selected data will begin loading. 
![Figure 11](./images/Picture11.png "Figure 11")

2.	This will rewrite the page, which may take some time to load depending upon the number and size of the selected genomes. 
![Figure 12](./images/Picture12.png "Figure 12")

## Filtering the Protein Family Table

1.	The page will reload to show the Protein Family Table view.  This contains a dynamic filter on the left, and a table on the right that shows all the families based on the selections of the filter. 
![Figure 13](./images/Picture13.png "Figure 13")

2.	The Protein Family Sorter loads showing all the protein families across all the genomes. This is the **Pan Genome**. 
![Figure 14](./images/Picture14.png "Figure 14")

3.	The Core Genome can be seen by clicking on the box in the column head below Present in all families. This will select all the genomes in the list and will reload the table to show all the protein families that are in that selection. 
![Figure 15](./images/Picture15.png "Figure 15")

4.	The **Accessory Genome** for a species can be seen by first clicking on the box in the column head below **Absent** in all families and then clicking on the text box in the **Either/Mixed** column in front of each genome of interest. This will select all the genomes in the list and will reload the table to show all the protein families that are in that selection. 
![Figure 16](./images/Picture16.png "Figure 16")

5.	The **Accessory Genome** for a single genome can be seen by first clicking on the box in the column head below Absent in all families and then clicking on the text box in the Present column in front of the genome of interest. This will select all the genomes in the list and will reload the table to show all the protein families that are in that selection.
![Figure 17](./images/Picture17.png "Figure 17")


![Figure 18](./images/Picture18.png "Figure 18")


![Figure 19](./images/Picture19.png "Figure 19")


![Figure 20](./images/Picture20.png "Figure 20")


![Figure 21](./images/Picture21.png "Figure 21")


![Figure 22](./images/Picture22.png "Figure 22")


![Figure 23](./images/Picture23.png "Figure 23")


![Figure 24](./images/Picture24.png "Figure 24")


![Figure 25](./images/Picture25.png "Figure 25")


![Figure 26](./images/Picture26.png "Figure 26")


![Figure 27](./images/Picture27.png "Figure 27")


![Figure 28](./images/Picture28.png "Figure 28")


![Figure 29](./images/Picture29.png "Figure 29")


![Figure 30](./images/Picture30.png "Figure 30")


![Figure 31](./images/Picture31.png "Figure 31")


![Figure 32](./images/Picture32.png "Figure 32")


![Figure 33](./images/Picture33.png "Figure 33")


![Figure 34](./images/Picture34.png "Figure 34")


![Figure 35](./images/Picture35.png "Figure 35")


![Figure 36](./images/Picture36.png "Figure 36")


![Figure 37](./images/Picture37.png "Figure 37")


![Figure 38](./images/Picture38.png "Figure 38")



