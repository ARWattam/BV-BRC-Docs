# Similar Genome Finder Service

When a researcher has a new genome sequence, one of the first things they want to identify is the closest relatives of their genome. PATRIC provides a new service that allows researchers to do this using Mash/MinHash[1]. Mash reduces large sequences and sequence-sets to small, representative sketches, from which global mutation distances can be rapidly estimated. The MinHash dimensionality-reduction technique to include a pairwise mutation distance and P value significance test, enabling the efficient clustering and search of massive sequence collections.

1.	At the top of any BV-BRC page, find the Services tab. Click on Similar Genome Finder. 

![Figure 1](./images/Picture1.png "Figure 1")

2.	This will open up the Similar Genome Finder landing page.

![Figure 2](./images/Picture2.png "Figure 2")

## Loading a BV-BRC genome 

1.	To load a genome that has been privately annotated in PATRIC, click on the filter icon that is at the left side of the text box under **Search By Genome Name Or Genome ID**.

![Figure 3](./images/Picture3.png "Figure 3")

2.	This will open a box that allows a researcher to search across all of the public genomes available in PATRIC, or across the genomes that they have annotated and that are stored in their private workspace. To select private genomes, deselect the Public Genomes box. This will leave the Private Genomes box selected. The filter can be used to narrow the search for each of the categories.

![Figure 4](./images/Picture4.png "Figure 4")

3.	Click the down arrow at the right of the text box under **Search By Genome Name Or Genome ID**. This will open a drop-down box that shows all of the researcherâ€™s private genomes, which have a lock icon in front of them.  To select a specific genome, scroll down and find the genome of interest, and then click on it.

![Figure 5](./images/Picture5.png "Figure 5")

4.	This will autofill the name of the genome in the text box. To see options that can be adjusted, click on the down arrow to the right of Advanced Options.

![Figure 6](./images/Picture6.png "Figure 6")

5.	Alternatively, it is not necessary to use the filters for different types of public genomes, or the private genomes.  Entering the name, or the genome ID in the text box will open a drop-down box that shows possible matches.  Note that reference genomes are denoted with a **[Ref]** in front of the name.  Representative genomes would have a **[Rep]** and private genomes have the lockbox icon seen above.  All of the other public genomes have no indicator in front of the name.  Clicking on the genome of interest will autofill the box as seen above.

![Figure 7](./images/Picture7.png "Figure 7")

## Loading a genome that is not in BV-BRC

1.	The Similar Genome Finder tool is one of the few places in BV-BRC, outside of the Assembly and Annotation pipelines, where genomes that have not been annotated in BV-BRC can be explored. To do this, click on the folder icon that is at the end of the text box underneath **Or Upload FASTA/FASTQ**. 

![Figure 8](./images/Picture8.png "Figure 8")

2.	This will open a pop-up window that has a direct link to the workspace.  To upload a new file, click on the **Upload** icon at the top right of that window.

![Figure 9](./images/Picture9.png "Figure 9")

3.	This will open a new pop-up window.  Note that it is pre-selected for **Contigs**, but if reads are desired, the type will need to be changed.  To interface with your computer, click on the Select File button.

![Figure 10](./images/Picture10.png "Figure 10")

4.	An interface with your computer will open.  Note that fasta files will be highlighted if Contigs were selected.   If read files were selected, fastq files would be highlighted.  Click on the desired file, and then click on the **Open** button at the lower right of the window.

![Figure 11](./images/Picture11.png "Figure 11")

5.	This will go back to the pop-up window where the name of the selected file is listed below the words **File Selected**.  Click on the **Start Upload** button at the lower right.

![Figure 12](./images/Picture12.png "Figure 12")

6.	The progress of the upload can be seen on the upload monitor at the lower right of the page.  Contig files generally load quickly.  Read files, which are often quite large, can take more time.

![Figure 13](./images/Picture13.png "Figure 13")

7.	Once the upload is complete the name of the file will appear below the words **Or Upload FASTA/FASTQ**.

![Figure 14](./images/Picture14.png "Figure 14")


![Figure 15](./images/Picture15.png "Figure 15")


![Figure 16](./images/Picture16.png "Figure 16")


![Figure 17](./images/Picture17.png "Figure 17")


![Figure 18](./images/Picture18.png "Figure 18")


![Figure 19](./images/Picture19.png "Figure 19")


![Figure 20](./images/Picture20.png "Figure 20")


![Figure 21](./images/Picture21.png "Figure 21")


![Figure 22](./images/Picture22.png "Figure 22")


![Figure 23](./images/Picture23.png "Figure 23")


![Figure 24](./images/Picture24.png "Figure 24")


![Figure 25](./images/Picture25.png "Figure 25")

